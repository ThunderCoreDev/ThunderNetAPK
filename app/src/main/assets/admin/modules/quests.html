<div class="quests-module">
    <div class="module-header">
        <h2><i class="fas fa-scroll"></i> Quest System</h2>
        <div class="module-actions">
            <button class="btn btn-primary" onclick="showCreateQuestModal()">
                <i class="fas fa-plus"></i> Nueva Quest
            </button>
            <button class="btn btn-secondary" onclick="exportQuests()">
                <i class="fas fa-download"></i> Exportar
            </button>
        </div>
    </div>
    
    <div class="quests-container">
        <div class="search-filters">
            <div class="search-box">
                <input type="text" id="questSearch" placeholder="Buscar quests por nombre o ID..." 
                       onkeyup="if(event.key === 'Enter') searchQuests()">
                <button class="btn btn-primary" onclick="searchQuests()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            
            <div class="filter-options">
                <select id="questZone">
                    <option value="all">Todas las zonas</option>
                    <option value="1">Elwynn Forest</option>
                    <option value="2">Dun Morogh</option>
                    <option value="3">Teldrassil</option>
                </select>
                
                <select id="questType">
                    <option value="all">Todos los tipos</option>
                    <option value="1">Matar</option>
                    <option value="2">Recolectar</option>
                    <option value="3">Entrega</option>
                    <option value="4">Hablar</option>
                </select>
                
                <select id="questLevel">
                    <option value="all">Todos los niveles</option>
                    <option value="1-10">Nivel 1-10</option>
                    <option value="11-20">Nivel 11-20</option>
                    <option value="21-30">Nivel 21-30</option>
                    <option value="31-40">Nivel 31-40</option>
                    <option value="41-50">Nivel 41-50</option>
                    <option value="51-60">Nivel 51-60</option>
                    <option value="61-70">Nivel 61-70</option>
                    <option value="71-80">Nivel 71-80</option>
                </select>
            </div>
        </div>
        
        <div class="quests-content">
            <div class="table-container">
                <div class="table-header">
                    <h3 class="table-title">Quests</h3>
                    <div class="table-info">
                        <span id="questCount">Mostrando 50 quests</span>
                    </div>
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Nivel</th>
                                <th>Tipo</th>
                                <th>Zona</th>
                                <th>Recompensa XP</th>
                                <th>Recompensa Oro</th>
                                <th>Activa</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="questsTableBody">
                            <tr>
                                <td>1</td>
                                <td><strong>Eliseo de los Cazadores</strong></td>
                                <td><span class="badge level-1">1</span></td>
                                <td><span class="badge type-kill">Matar</span></td>
                                <td>Elwynn Forest</td>
                                <td>150</td>
                                <td>10c</td>
                                <td><span class="status-badge status-online">Sí</span></td>
                                <td>
                                    <button class="btn-action" onclick="viewQuest(1)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action" onclick="editQuest(1)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="toggleQuest(1)">
                                        <i class="fas fa-power-off"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td><strong>La Minas de la Mina</strong></td>
                                <td><span class="badge level-5">5</span></td>
                                <td><span class="badge type-collect">Recolectar</span></td>
                                <td>Dun Morogh</td>
                                <td>250</td>
                                <td>25c</td>
                                <td><span class="status-badge status-online">Sí</span></td>
                                <td>
                                    <button class="btn-action" onclick="viewQuest(2)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action" onclick="editQuest(2)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="toggleQuest(2)">
                                        <i class="fas fa-power-off"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td><strong>Correo para la Ciudadela</strong></td>
                                <td><span class="badge level-10">10</span></td>
                                <td><span class="badge type-deliver">Entrega</span></td>
                                <td>Teldrassil</td>
                                <td>500</td>
                                <td>50c</td>
                                <td><span class="status-badge status-offline">No</span></td>
                                <td>
                                    <button class="btn-action" onclick="viewQuest(3)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-action" onclick="editQuest(3)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-action" onclick="toggleQuest(3)">
                                        <i class="fas fa-power-off"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="table-footer">
                    <div class="pagination">
                        <button class="btn btn-secondary"><i class="fas fa-chevron-left"></i></button>
                        <span>Página 1 de 5</span>
                        <button class="btn btn-secondary"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
            </div>
            
            <div class="quest-details" id="questDetails" style="display: none; margin-top: 20px;">
                <!-- Detalles de quest se cargarán aquí -->
            </div>
        </div>
    </div>
</div>

<style>
.search-filters {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
}

.search-box {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.search-box input {
    flex: 1;
}

.filter-options {
    display: flex;
    gap: 10px;
}

.filter-options select {
    flex: 1;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    padding: 8px 12px;
    border-radius: 5px;
}

.badge {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: bold;
}

.level-1 { background: #4CAF50; color: white; }
.level-5 { background: #8BC34A; color: white; }
.level-10 { background: #FFC107; color: black; }

.type-kill { background: #F44336; color: white; }
.type-collect { background: #2196F3; color: white; }
.type-deliver { background: #9C27B0; color: white; }

.quest-details {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
}
</style>

<script>
function searchQuests() {
    const query = document.getElementById('questSearch').value;
    const zone = document.getElementById('questZone').value;
    const type = document.getElementById('questType').value;
    const level = document.getElementById('questLevel').value;
    
    alert(`Buscando quests: ${query} | Zona: ${zone} | Tipo: ${type} | Nivel: ${level}`);
}

function showCreateQuestModal() {
    alert('Mostrar modal para crear nueva quest');
}

function exportQuests() {
    alert('Exportando quests a CSV...');
}

function viewQuest(id) {
    const detailsDiv = document.getElementById('questDetails');
    detailsDiv.style.display = 'block';
    detailsDiv.innerHTML = `
        <div class="table-header">
            <h3 class="table-title">Detalles de Quest ID: ${id}</h3>
            <button class="btn btn-secondary" onclick="document.getElementById('questDetails').style.display = 'none'">
                <i class="fas fa-times"></i> Cerrar
            </button>
        </div>
        
        <div class="quest-detail-content">
            <div class="detail-section">
                <h4>Información Básica</h4>
                <div class="detail-row">
                    <div class="detail-column">
                        <p><strong>Nombre:</strong> Eliso de los Cazadores</p>
                        <p><strong>Nivel:</strong> 1 (1-5)</p>
                        <p><strong>Tipo:</strong> Matar</p>
                        <p><strong>Zona:</strong> Elwynn Forest</p>
                    </div>
                    <div class="detail-column">
                        <p><strong>NPC Inicio:</strong> Marshal McBride (ID: 197)</p>
                        <p><strong>NPC Fin:</strong> Marshal McBride (ID: 197)</p>
                        <p><strong>Tiempo límite:</strong> Ninguno</p>
                        <p><strong>Repetible:</strong> No</p>
                    </div>
                </div>
            </div>
            
            <div class="detail-section">
                <h4>Objetivos</h4>
                <p><strong>Matar:</strong> 10 Lobos Jóvenes (6/10)</p>
                <p><strong>Recolectar:</strong> 5 Pieles de Lobo (3/5)</p>
            </div>
            
            <div class="detail-section">
                <h4>Recompensas</h4>
                <div class="rewards-grid">
                    <div class="reward-item">
                        <strong>Experiencia:</strong> 150 XP
                    </div>
                    <div class="reward-item">
                        <strong>Oro:</strong> 10c
                    </div>
                    <div class="reward-item">
                        <strong>Items:</strong> Espada Corta, Pan Recién Horneado
                    </div>
                    <div class="reward-item">
                        <strong>Reputación:</strong> +25 Stormwind
                    </div>
                </div>
            </div>
            
            <div class="detail-actions">
                <button class="btn btn-primary" onclick="editQuest(${id})">
                    <i class="fas fa-edit"></i> Editar Quest
                </button>
                <button class="btn btn-secondary" onclick="testQuest(${id})">
                    <i class="fas fa-play"></i> Probar Quest
                </button>
                <button class="btn btn-secondary" onclick="resetQuestProgress(${id})">
                    <i class="fas fa-undo"></i> Resetear Progreso
                </button>
            </div>
        </div>
    `;
}

function editQuest(id) {
    alert(`Editar quest ID: ${id}`);
}

function toggleQuest(id) {
    if (confirm('¿Activar/desactivar esta quest?')) {
        alert(`Quest ${id} cambiada de estado`);
    }
}

function testQuest(id) {
    alert(`Probar quest ID: ${id}`);
}

function resetQuestProgress(id) {
    if (confirm('¿Resetear progreso de esta quest para todos los jugadores?')) {
        alert(`Progreso de quest ${id} reseteado`);
    }
}
</script>